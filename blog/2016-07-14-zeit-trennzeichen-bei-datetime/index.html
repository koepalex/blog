<!doctype html><html lang=de-de><head><title>Zeit-Trennzeichen bei DateTime // Blog von Alexander Köpke</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Alexander Köpke"><meta name=description content><link rel=stylesheet href=/blog/css/main.min.ead1f6492242b7d93618e6840b25260f8ea1ca68dc04cc9cf1b88adcb996693b.css><meta name=twitter:card content="summary"><meta name=twitter:title content="Zeit-Trennzeichen bei DateTime"><meta name=twitter:description content="Diese Woche hat es das .NET geschafft mich zu überraschen, ein Programm ist beim Kunden mit italienischen Windows immer wieder abgestürzt. Nach langem Suchen hat ein Kollege das Problem erkannt, was durch das folgende Beispiel veranschaulicht wird:
var ci = new CultureInfo(&#34;it-IT&#34;); var dateTime = DateTime.Now; var str = dateTime.ToString(&#34;dd.mm.yyyy hh:mm:ss&#34;, ci); Console.WriteLine(str); Ausgabe (.NET 3.5): 14.07.2016 20.45.30
Ausgabe (.NET 4.0): 14.07.2016 20:45:30
In der Ausgabe erkennt man, dass abhängig von der ."><meta property="og:title" content="Zeit-Trennzeichen bei DateTime"><meta property="og:description" content="Diese Woche hat es das .NET geschafft mich zu überraschen, ein Programm ist beim Kunden mit italienischen Windows immer wieder abgestürzt. Nach langem Suchen hat ein Kollege das Problem erkannt, was durch das folgende Beispiel veranschaulicht wird:
var ci = new CultureInfo(&#34;it-IT&#34;); var dateTime = DateTime.Now; var str = dateTime.ToString(&#34;dd.mm.yyyy hh:mm:ss&#34;, ci); Console.WriteLine(str); Ausgabe (.NET 3.5): 14.07.2016 20.45.30
Ausgabe (.NET 4.0): 14.07.2016 20:45:30
In der Ausgabe erkennt man, dass abhängig von der ."><meta property="og:type" content="article"><meta property="og:url" content="https://koepalex.github.io/blog/blog/2016-07-14-zeit-trennzeichen-bei-datetime/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2016-07-14T00:00:00+00:00"><meta property="article:modified_time" content="2016-07-14T00:00:00+00:00"></head><body><header class=app-header><a href=https://koepalex.github.io/blog/><img class=app-header-avatar src=/blog/avatar.jpg alt="Alexander Köpke"></a>
<span class=app-header-title>Blog von Alexander Köpke</span><p>Technischer Artikel, das Universum und der ganze Rest</p><div class=app-header-social><a href=https://github.com/koepalex target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://twitter.com/koepalex target=_blank rel="noreferrer noopener me"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>Twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Zeit-Trennzeichen bei DateTime</h1><div class=post-meta><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Jul 14, 2016</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>1 min read</div><div><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://koepalex.github.io/blog/tags/net/>net</a>
<a class=tag href=https://koepalex.github.io/blog/tags/datetime/>datetime</a>
<a class=tag href=https://koepalex.github.io/blog/tags/formatstring/>formatstring</a></div></div></header><div class=post-content><p>Diese Woche hat es das .NET geschafft mich zu überraschen, ein Programm ist beim Kunden mit italienischen Windows immer wieder abgestürzt. Nach langem Suchen hat ein Kollege das Problem erkannt, was durch das folgende Beispiel veranschaulicht wird:</p><p><code>var ci = new CultureInfo("it-IT"); var dateTime = DateTime.Now; var str = dateTime.ToString("dd.mm.yyyy hh:mm:ss", ci); Console.WriteLine(str);</code></p><p>Ausgabe (.NET 3.5): 14.07.2016 <strong>20.45.30</strong><br>Ausgabe (.NET 4.0): 14.07.2016 <strong>20:45:30</strong></p><p>In der Ausgabe erkennt man, dass abhängig von der .NET Version, das Zeit-Trennzeichen ändert. Aber warum wird das Trennzeichen überhaupt verändert, es wurde doch eine feste Format-Zeichenkette angegeben? Die <a href="https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx#escape">Dokumentation</a> beschreibt:<br>The &ldquo;d&rdquo;, &ldquo;f&rdquo;, &ldquo;F&rdquo;, &ldquo;g&rdquo;, &ldquo;h&rdquo;, &ldquo;H&rdquo;, &ldquo;K&rdquo;, &ldquo;m&rdquo;, &ldquo;M&rdquo;, &ldquo;s&rdquo;, &ldquo;t&rdquo;, &ldquo;y&rdquo;, &ldquo;z&rdquo;, <strong>":"</strong>, or &ldquo;/&rdquo; characters in a format string are interpreted as custom format specifiers rather than as literal characters. To prevent a character from being interpreted as a format specifier, you can precede it with a backslash (\), which is the escape character.</p><p>Es ist beschrieben, dass der Doppelpunkt &ldquo;escaped&rdquo; werden muss, jedoch muss man erstmal darauf kommen selbige zu lesen&mldr;</p><p>Richtig wäre also der Quelltext:<br><code>var str = dateTime.ToString(@"dd.mm.yyyy hh\:mm\:ss", ci);</code></p></div><div class=post-footer></div></article></main></body></html>